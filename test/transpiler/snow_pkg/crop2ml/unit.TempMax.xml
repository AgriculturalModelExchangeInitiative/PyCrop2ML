<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ModelUnit PUBLIC " " "https://raw.githubusercontent.com/AgriculturalModelExchangeInitiative/crop2ml/master/ModelUnit.dtd">
<ModelUnit modelid="STICS.Snow.TempMax" name="TempMax" timestep="1" version="1.0">
	<Description>
		<Title>Maximum temperature  calculation</Title>
		<Authors>STICS</Authors>
		<Institution>INRA</Institution>
		<Reference>-</Reference>
		<Abstract>-</Abstract>
	</Description>
	<Inputs>
		<Input name="Sdepth_cm" description="snow depth" inputtype="variable" variablecategory="state" datatype="DOUBLE" default="0.0" min="0.0" max="500.0" unit="cm" uri=""/>
		<Input name="P_prof" description="snow cover threshold for snow insulation " inputtype="parameter" parametercategory="constant" datatype="DOUBLE" default="0.0" min="0.0" max="1000" unit="cm" uri=""/>
		<Input name="tmax" description="current maximum air temperature" inputtype="variable" variablecategory="auxiliary" datatype="DOUBLE" default="0.0" min="0.0" max="100.0" unit="°C" uri=""/>
		<Input name="P_tminseuil" description="minimum temperature when snow cover is higher than prof" inputtype="parameter" parametercategory="constant" datatype="DOUBLE" default="0.0" min="0.0" max="5000.0" unit="°C" uri=""/>
		<Input name="tmaxrec" description="recalculated maximum temperature" inputtype="variable" variablecategory="state" datatype="DOUBLE" default="0.0" min="" max="" unit="°C" uri=""/>
		<Input name="P_tmaxseuil" description="maximum temperature when snow cover is higher than prof" inputtype="parameter" parametercategory="constant" datatype="DOUBLE" default="0.0" min="" max="" unit="°C" uri=""/>
	</Inputs>
	<Outputs>
		<Output name="tmaxrec" description="recalculated maximum temperature" variablecategory="state" datatype="DOUBLE" min="0.0" max="500.0" unit="°C" uri=""/>
	</Outputs>
	<Algorithm language="Cyml" platform="" filename="algo/pyx/TempMax.pyx" />
	<Parametersets>
		<Parameterset name="paramerSet1" description="set Parameters for TempMax unit" >
            <Param name="P_prof">70.0</Param>
            <Param name="P_tminseuil">70.0</Param>
            <Param name="P_tmaxseuil">70.0</Param>
		</Parameterset>
	</Parametersets>
	<Testsets>
        <Testset name="check snow model" parameterset = "paramerSet1" description="some values in there" >
        	<Test name ="test_snow1">
        		<InputValue name="Sdepth_cm">91.2</InputValue>
				<InputValue name="tmax">0.279</InputValue>  
				<InputValue name="tmaxrec">0.279</InputValue> 
			    <OutputValue name="tmaxrec" precision ="2">45.6</OutputValue>
        	</Test>
        </Testset>
	</Testsets>
</ModelUnit>